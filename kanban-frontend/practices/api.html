<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Fetch API Practice</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover { background: #1976D2; }
        #result {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 4px;
            margin-top: 20px;
            min-height: 100px;
        }
        .user-card {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .loading {
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>Fetch API Practice</h1>
    <p>Luy·ªán t·∫≠p g·ªçi API t·ª´ JavaScript</p>
    
    <div>
        <button onclick="fetchUsers()">L·∫•y Danh S√°ch Users</button>
        <button onclick="fetchPost()">L·∫•y Post Ng·∫´u Nhi√™n</button>
        <button onclick="clearResult()">X√≥a K·∫øt Qu·∫£</button>
    </div>
    
    <div id="result">
        <p class="loading">K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...</p>
    </div>

    <script>
        const result = document.getElementById('result');

        // H√†m l·∫•y danh s√°ch users t·ª´ API c√¥ng khai
        async function fetchUsers() {
            result.innerHTML = '<p class="loading">ƒêang t·∫£i...</p>';
            
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users');
                
                if (!response.ok) {
                    throw new Error('L·ªói khi t·∫£i d·ªØ li·ªáu');
                }
                
                const users = await response.json();
                displayUsers(users);
                
            } catch (error) {
                result.innerHTML = `<p style="color: red;">L·ªói: ${error.message}</p>`;
            }
        }

        // Hi·ªÉn th·ªã users
        function displayUsers(users) {
            let html = '<h3>Danh S√°ch Users</h3>';
            
            users.slice(0, 5).forEach(user => {
                html += `
                    <div class="user-card">
                        <strong>${user.name}</strong> (@${user.username})<br>
                        üìß ${user.email}<br>
                        üè¢ ${user.company.name}
                    </div>
                `;
            });
            
            result.innerHTML = html;
        }

        // L·∫•y post ng·∫´u nhi√™n
        async function fetchPost() {
            result.innerHTML = '<p class="loading">ƒêang t·∫£i...</p>';
            
            try {
                const randomId = Math.floor(Math.random() * 100) + 1;
                const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${randomId}`);
                
                if (!response.ok) {
                    throw new Error('Kh√¥ng t√¨m th·∫•y post');
                }
                
                const post = await response.json();
                displayPost(post);
                
            } catch (error) {
                result.innerHTML = `<p style="color: red;">L·ªói: ${error.message}</p>`;
            }
        }

        // Hi·ªÉn th·ªã post
        function displayPost(post) {
            result.innerHTML = `
                <h3>Post #${post.id}</h3>
                <div class="user-card">
                    <h4>${post.title}</h4>
                    <p>${post.body}</p>
                </div>
            `;
        }

        // X√≥a k·∫øt qu·∫£
        function clearResult() {
            result.innerHTML = '<p class="loading">K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...</p>';
        }
    </script>
</body>
</html>
